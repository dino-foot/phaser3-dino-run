!function(t){function e(e){for(var s,h,a=e[0],r=e[1],d=e[2],c=0,u=[];c<a.length;c++)h=a[c],Object.prototype.hasOwnProperty.call(o,h)&&o[h]&&u.push(o[h][0]),o[h]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);for(l&&l(e);u.length;)u.shift()();return n.push.apply(n,d||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,a=1;a<i.length;a++){var r=i[a];0!==o[r]&&(s=!1)}s&&(n.splice(e--,1),t=h(h.s=i[0]))}return t}var s={},o={0:0},n=[];function h(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,h),i.l=!0,i.exports}h.m=t,h.c=s,h.d=function(t,e,i){h.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},h.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},h.t=function(t,e){if(1&e&&(t=h(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(h.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)h.d(i,s,function(e){return t[e]}.bind(null,s));return i},h.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return h.d(e,"a",e),e},h.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},h.p="";var a=window.webpackJsonp=window.webpackJsonp||[],r=a.push.bind(a);a.push=e,a=a.slice();for(var d=0;d<a.length;d++)e(a[d]);var l=r;n.push([1,1]),i()}([,function(t,e,i){"use strict";i.r(e);var s=i(0),o=i.n(s);class n extends o.a.Scene{constructor(){super("MenuScene")}preload(){this.load.image("logo","assets/ecoflow_logo.png"),this.load.audio("jump","assets/jump.m4a"),this.load.audio("hit","assets/hit.m4a"),this.load.audio("reach","assets/reach.m4a"),this.load.image("ground","assets/ground.png"),this.load.image("restart","assets/restart.png"),this.load.image("game-over","assets/game-over.png")}create(){const t=this.add.image(this.cameras.main.width/2,180,"logo");t.setOrigin(.5),t.setScale(.65),t.setInteractive(),t.on("pointerdown",(()=>{this.scene.start("PreloadScene")}),this)}}var h=n,a=null;class r extends o.a.Scene{constructor(){super("PlayScene")}create(){const t=window.document.getElementById("jump"),e=window.document.getElementById("duck");t.addEventListener("mousedown",(()=>{this.jumpBtn()}),this),e.addEventListener("mousedown",(()=>{this.duckBtnDown()}),this),!1;this.sound.add("music",{volume:.4}).play();const{height:i,width:s}=this.game.config;this.gameSpeed=10,this.isGameRunning=!1,this.respawnTime=0,this.score=0,this.jumpSound=this.sound.add("jump",{volume:.2}),this.hitSound=this.sound.add("hit",{volume:.2}),this.reachSound=this.sound.add("reach",{volume:.2}),this.startTrigger=this.physics.add.sprite(0,10).setOrigin(0,1).setImmovable(),this.ground=this.add.tileSprite(0,i,88,26,"ground").setOrigin(0,1),this.dino=this.physics.add.sprite(0,i,"jug_run",0).setCollideWorldBounds(!0).setGravityY(5e3).setDepth(1).setOrigin(0,1),this.dino.body.setSize(this.dino.width-100,this.dino.height),this.dino.setScale(.35),this.scoreText=this.add.text(s,0,"00000",{fill:"#535353",font:"900 35px Courier",resolution:5}).setOrigin(1,0).setAlpha(0),this.highScoreText=this.add.text(0,0,"00000",{fill:"#535353",font:"900 35px Courier",resolution:5}).setOrigin(1,0).setAlpha(0);this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"background").setScale(.75).setDepth(-1);this.environment=this.add.group(),this.environment.addMultiple([this.add.image(s/2,170,"cloud"),this.add.image(s-80,80,"cloud"),this.add.image(s/1.3,100,"cloud")]),this.environment.setAlpha(0),this.gameOverScreen=this.add.container(s/2,i/2-50).setAlpha(0),this.gameOverText=this.add.image(0,0,"gameover").setScale(.25).setOrigin(.5),this.restart=this.add.image(0,80,"restart").setInteractive(),this.gameOverScreen.add([this.gameOverText,this.restart]),this.obsticles=this.physics.add.group(),this.initAnims(),this.initStartTrigger(),this.initColliders(),this.handleInputs(),this.handleScore()}initColliders(){this.physics.add.collider(this.dino,this.obsticles,(()=>{this.highScoreText.x=this.scoreText.x-this.scoreText.width-20;const t=this.highScoreText.text.substr(this.highScoreText.text.length-5),e=Number(this.scoreText.text)>Number(t)?this.scoreText.text:t;this.highScoreText.setText("HI "+e),this.highScoreText.setAlpha(1),this.physics.pause(),this.isGameRunning=!1,this.anims.pauseAll(),this.respawnTime=0,this.gameSpeed=10,this.gameOverScreen.setAlpha(1),this.score=0,this.hitSound.play()}),null,this)}initStartTrigger(){const{width:t,height:e}=this.game.config;this.physics.add.overlap(this.startTrigger,this.dino,(()=>{if(10===this.startTrigger.y)return void this.startTrigger.body.reset(0,e);this.startTrigger.disableBody(!0,!0);const i=this.time.addEvent({delay:1e3/60,loop:!0,callbackScope:this,callback:()=>{this.dino.setVelocityX(80),this.dino.play("dino-run",!0),this.ground.width<t&&(this.ground.width+=34),this.ground.width>=1e3&&(this.ground.width=t,this.isGameRunning=!0,this.dino.setVelocityX(0),this.scoreText.setAlpha(0),i.remove())}})}),null,this)}initAnims(){this.anims.create({key:"dino-run",frames:this.anims.generateFrameNumbers("jug_run",{start:0,end:6}),frameRate:10,repeat:-1}),this.anims.create({key:"dino-down-anim",frames:this.anims.generateFrameNumbers("jug_duck",{start:0,end:6}),frameRate:10,repeat:-1})}handleScore(){this.time.addEvent({delay:100,loop:!0,callbackScope:this,callback:()=>{if(!this.isGameRunning)return;this.score++,this.gameSpeed+=.01,this.score%100==0&&(this.reachSound.play(),this.tweens.add({targets:this.scoreText,duration:100,repeat:3,alpha:0,yoyo:!0}));const t=Array.from(String(this.score),Number);for(let e=0;e<5-String(this.score).length;e++)t.unshift(0);this.scoreText.setText(t.join(""))}})}handleInputs(){this.restart.on("pointerdown",(()=>{this.dino.setVelocityY(0),this.dino.body.setSize(this.dino.width-100,this.dino.height),this.physics.resume(),this.obsticles.clear(!0,!0),this.isGameRunning=!0,this.gameOverScreen.setAlpha(0),this.anims.resumeAll()})),this.input.keyboard.on("keydown_SPACE",(()=>{!this.dino.body.onFloor()||this.dino.body.velocity.x>0||(this.jumpSound.play(),this.isJump=!0,this.dino.body.setSize(this.dino.width-100,this.dino.height),this.dino.body.offset.y=0,this.dino.setVelocityY(-2e3))})),this.input.keyboard.on("keydown_DOWN",(()=>{this.dino.body.onFloor()&&this.isGameRunning&&(this.dino.play("dino-down-anim",!0),this.isJump=!1,this.dino.body.height=90,this.dino.body.offset.y=24)})),this.input.keyboard.on("keyup_DOWN",(()=>{(0===this.score||this.isGameRunning)&&(this.isJump=!0,this.dino.body.setSize(this.dino.width-100,this.dino.height),this.dino.body.offset.y=0)}))}jumpBtn(){console.log("jumpBtn"),!this.dino.body.onFloor()||this.dino.body.velocity.x>0||(this.dino.play("dino-run",!0),this.jumpSound.play(),this.isJump=!0,this.dino.body.setSize(this.dino.width-100,this.dino.height),this.dino.body.offset.y=0,this.dino.setVelocityY(-2e3))}duckBtnDown(){this.dino.body.onFloor()&&this.isGameRunning&&(this.isJump=!1,this.dino.body.height=100,this.dino.body.offset.y=24,this.dino.play("dino-down-anim",!0),a&&clearTimeout(a),a=setTimeout((()=>{this.duckBtnUp()}),250))}duckBtnUp(){(0===this.score||this.isGameRunning)&&(this.dino.play("dino-run",!0),this.dino.body.setSize(this.dino.width-100,this.dino.height),this.dino.body.offset.y=0,this.isJump=!0)}placeObsticle(){const t=Math.floor(7*Math.random())+1,e=o.a.Math.Between(600,900);let i;if(t>5){console.log("flying dino");const t=[100,160];i=this.obsticles.create(this.game.config.width+e,this.game.config.height-t[Math.floor(2*Math.random())],"obsticle-4").setOrigin(0,1),i.body.height=i.body.height/1.5,i.setScale(.1)}else i=this.obsticles.create(this.game.config.width+e,this.game.config.height-10,"obsticle-"+t).setOrigin(0,1),i.setScale(.1);i.setImmovable()}update(t,e){this.isGameRunning&&(this.ground.tilePositionX+=this.gameSpeed,o.a.Actions.IncX(this.obsticles.getChildren(),-this.gameSpeed),o.a.Actions.IncX(this.environment.getChildren(),-.5),this.respawnTime+=e*this.gameSpeed*.08,this.respawnTime>=1500&&(this.placeObsticle(),this.respawnTime=0),this.obsticles.getChildren().forEach((t=>{t.getBounds().right<0&&this.obsticles.killAndHide(t)})),this.environment.getChildren().forEach((t=>{t.getBounds().right<0&&(t.x=this.game.config.width+30)})),this.dino.body.deltaAbsY()>0?this.dino.anims.stop():this.isJump?this.dino.play("dino-run",!0):(console.log("dino down animation"),this.dino.play("dino-down-anim",!0)))}}var d=r;class l extends o.a.Scene{constructor(){super("PreloadScene")}preload(){this.load.spritesheet("star","assets/stars.png",{frameWidth:9,frameHeight:9}),this.load.spritesheet("moon","assets/moon.png",{frameWidth:20,frameHeight:40}),this.load.spritesheet("dino","assets/dino-run.png",{frameWidth:88,frameHeight:94}),this.load.spritesheet("dino-down","assets/dino-down.png",{frameWidth:118,frameHeight:94}),this.load.image("obsticle-1","assets/coffe_cup.png"),this.load.image("obsticle-2","assets/spoon.png"),this.load.image("obsticle-3","assets/coffe_cup.png"),this.load.image("obsticle-4","assets/spoon.png"),this.load.image("obsticle-5","assets/coffe_cup.png"),this.load.image("obsticle-6","assets/coffe_cup.png"),this.load.image("gameover","assets/gameover.png"),this.load.image("background","assets/background.png"),this.load.image("duck","assets/duck.png"),this.load.image("jump","assets/jump.png"),this.load.audio("music","assets/music.mp3"),this.load.spritesheet("jug_duck","assets/jug_duck.png",{frameWidth:315,frameHeight:280}),this.load.spritesheet("jug_run","assets/jug_run.png",{frameWidth:290,frameHeight:352})}create(){this.scene.start("PlayScene")}}var c=l;const u={type:o.a.AUTO,width:1e3,height:500,pixelArt:!1,transparent:!0,parent:"phaser",dom:{createContainer:!0},physics:{default:"arcade",arcade:{debug:!1}},scale:{orientation:o.a.Scale.Orientation.PORTRAIT},scene:[h,c,d]};new o.a.Game(u)}]);